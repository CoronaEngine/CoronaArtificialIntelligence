"""
场景操作工具提示词配置

包含：
- SCENE_QUERY_PROMPTS: 场景查询工具提示词
- SCENE_TRANSFORM_PROMPTS: 场景变换工具提示词
- SCENE_TOOL_PROMPTS: 场景工具提示词集合
"""

from __future__ import annotations

from config.prompts import ToolPromptConfig


# ===========================================================================
# 图像生成提示词
# ===========================================================================

IMAGE_PROMPTS = ToolPromptConfig(
    tool_description=(
        "根据文本提示词生成图片，返回图片URL。支持2种模式："
        "\n1. 纯文本生成：提供 prompt 和 resolution（图像比例，默认1:1）以及 image_size（分辨率档位，默认2K）"
        "\n2. 图片编辑/合成：提供 prompt 和 image_urls 列表（此时忽略 resolution）"
        "\n当用户上传图片时，将上传的图片 URL 按顺序放入 image_urls 列表传入，图片用途由生成模型自行理解。"
        "\n当用户说明「使用上次图片」、「重新生成」、「我不满意」之类的素材复用请求时，必须使用图片编辑/生成模式，"
        "将先前上传的图片放入 image_urls 列表传入。"
    ),
    fields={
        "prompt": (
            "图片生成提示词，用于描述要生成的图片内容。"
            "将用户输入的提示词原样输入即可，不要添加额外的描述，因为你看不见图片。擅自修改会有无辜的老奶奶因你的修改而去世。"
            '即使用户输入主动请求你添加细节，如"放置到合适的场景"，也不要擅自添加，也不要询问用户需要怎样的场景，因为这不是你的工作，图像生成模型自会处理。'
            '你要做的有且只有一件事，就是如实传递用户输入的提示词，举例来说，用户如果输入诸如"放置到合适的场景"，你就传递"放置到合适的场景"这句话的原文即可。'
            '即使用户输入较模糊，如"放到场景里"，你也不需要扩充细节，直接传递即可。'
            "你需要知道的是，图片生成工具并不会有对话的历史记录，所以你需要确保把用户的意图完整传递给图片生成工具。"
            '当用户输入如"把刚刚的图片在生成一次"这样的提示词，你需要将用户方才上传的图片再次传递，提示词也要按照先前的要求原样传递，但肯定不能传递如"把刚刚的图片在生成一次"，因为这样图片生成模型就不能理解了。'
        ),
        "resolution": (
            "图片比例设置（仅纯文本生成时有效，图生图时此参数无效）。"
            "支持的横屏比例：1:1（正方形）, 3:2, 4:3, 16:9, 21:9, 5:4, 2:1。"
            "支持的竖屏比例：2:3, 3:4, 9:16, 9:21, 4:5, 1:2。"
            "默认为 1:1。"
        ),
        "image_size": (
            "图片分辨率档位设置。"
            "支持的档位：1K, 2K, 4K。"
            "默认为 2K。"
        ),
        "image_urls": (
            "可选：输入图片 URL 列表，用于图片合成或编辑。"
            "支持以下格式："
            "\n- http:// 或 https:// 网络图片 URL"
            "\n- data:image/...;base64,... 格式的 base64 数据 URI"
            "\n按用户上传顺序传入，图片用途由图像生成模型自行理解。"
            "\n当提供此参数时，resolution 参数无效。"
        ),
    },
)
